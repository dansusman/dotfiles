#!/bin/bash

# Script to create new executable files in ~/bin
if [ $# -ne 1 ]; then
    echo "Usage: bin <filename>"
    exit 1
fi

filename="$1"
filepath="$HOME/bin/$filename"

# Only proceed if file doesn't exist
if [ -f "$filepath" ]; then
    echo "File already exists: $filepath"
    exit 1
fi

nvim "$filepath"

# Make it executable after nvim closes (only if file has content)
if [ -s "$filepath" ]; then
    chmod +x "$filepath"
    echo "Made $filepath executable"
else
    echo "File is empty, not making executable"
fi
